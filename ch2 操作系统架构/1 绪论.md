## 1. 操作系统的要求

操作系统的一个关键要求是**同时支持多个活动**。

- 使用第1章中描述的系统调用接口，一个进程可以用`fork`启动新进程。操作系统必须在这些进程之间分时使用计算机资源。
- 即使进程比硬件处理器多，操作系统也必须确保所有进程都有机会执行。操作系统还必须安排进程之间的隔离。如果一个进程有错误和故障，它不应该影响不依赖于有错误的进程的进程。
- 进程之间应当可以进行刻意为之的交互。

因此，操作系统必须满足三个要求：**多路复用**、**隔离**和**交互**。

本文侧重于以**宏内核**为中心的主流设计，许多Unix操作系统都使用这种内核。

本章还概述了xv6进程（它是xv6中的隔离单元）以及xv6启动时第一个进程的创建。

Xv6运行在多核RISC-V微处理器上，它的许多低级功能（例如，它的进程实现）是特定于RISC-V的。RISC-V是一个64位的中央处理器，xv6是用基于“LP64”的C语言编写的，这意味着C语言中的`long`（L）和指针（P）变量都是64位的，但`int`是32位的。

完整计算机中的CPU被支撑硬件包围，其中大部分是以I/O接口的形式。Xv6是以qemu的“-machine virt”选项模拟的支撑硬件编写的。这包括RAM、包含引导代码的ROM、一个到用户键盘/屏幕的串行连接，以及一个用于存储的磁盘。